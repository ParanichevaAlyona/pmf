# Прогнозирование моделей процессов  
Прогнозирование моделей процессов с использованием анализа временных рядов последовательности событий  
https://www.researchgate.net/publication/367439551_Process_model_forecasting_and_change_exploration_using_time_series_analysis_of_event_sequence_data
## О проекте  
Аналитика процессов — это область, ориентированная на прогнозирование отдельных экземпляров процессов или общих моделей процессов. На уровне отдельных экземпляров были недавно разработаны различные инновационные методы, решающие задачи прогнозирования следующего действия, оставшегося времени и результата. Однако на уровне моделей существует значительный пробел, который данный документ стремится заполнить.  

Для этого мы разработали технику прогнозирования всей модели процесса на основе исторических данных о событиях. Прогнозируемая модель представляет собой возможное будущее состояние всей модели процесса. Такой прогноз позволяет изучить последствия изменений и выявить потенциальные узкие места.  

Наша методика основана на представлении данных событий в виде нескольких временных рядов, каждый из которых отражает эволюцию определенного поведенческого аспекта модели процесса, что позволяет применять соответствующие методы прогнозирования.  

Реализация метода продемонстрировала его точность на данных реальных журналов событий.  

## Реализация  
Реализация выполнена на Python с использованием следующих библиотек:  
- [pm4py](https://pm4py.fit.fraunhofer.de/)  
- [statsmodels](https://www.statsmodels.org/stable/index.html)  
- [scikit-learn](https://scikit-learn.org/stable/)  
- [numpy](https://numpy.org/)  
- [arch package](https://pypi.org/project/arch/)  
- [entropia](https://github.com/jbpt/codebase/tree/master/jbpt-pm/entropia): обязательно включите `jbpt-pm-entropia-1.6.jar` и директорию `lib` рядом с Python-кодом, так как они используются для расчета энтропийной релевантности.  

## Датасеты  
Использовались 6 наборов данных из следующих источников:  
- [RTFMP](https://doi.org/10.4121/uuid:270fd440-1057-4fb9-89a9-b699b47990f5)  
- [BPI12](https://doi.org/10.4121/uuid:3926db30-f712-4394-aebc-75976070e91f)  
- [BPI17](https://doi.org/10.4121/uuid:5f3067df-f10b-45da-b98b-86ae4c7a310b)  
- [BPI18](https://doi.org/10.4121/uuid:3301445f-95e8-4ff0-98a4-901f1f204972)  
- [Sepsis](https://doi.org/10.4121/uuid:915d2bfb-7e84-49ad-a286-dc35f063a460)  
- [Italian](https://doi.org/10.4121/uuid:0c60edf1-6f83-4e75-9367-4c63b3e9d5bb)  

Обратите внимание, что датасеты в папке [datasets](/datasets) необходимо распаковать.  

## Параметры и использование  
Для запуска можно использовать основной Python-файл [create_dfg_forecasts.py](/python/create_dfg_forecasts.py) с такими параметрами:  

- **dataset** (например, `'rtfmp'`): имя включенного `.xes` файла.  
- **agg_type** (`'equisize'` или `'equitemp'`): способ агрегации событий в интервалы (equisize: одинаковое количество событий в каждом интервале, equitemp: одинаковая временная продолжительность каждого интервала).  
- **no_pairs** (целое число): ограничение количества наиболее частых пар DFG. Укажите `0`, чтобы использовать все пары действий.  
- **horizon** (целое число): количество прогнозируемых интервалов, т.е. горизонт прогнозирования.  
- **no_intervals_all** (целое число): общее количество интервалов, на которые будет разбит лог.  
- **no_intervals** (целое число): количество интервалов (из общего числа интервалов), используемых для всего набора данных (длина обучающего набора = `no_intervals - horizon`).  
- **no_folds** (целое число): количество фолдов, используемых для перекрёстной проверки.  

Сгенерированный результат (`.csv` файл) будет включать косинусное расстояние, среднеквадратичную ошибку и энтропийную релевантность прогнозируемых и фактических DFG.  
